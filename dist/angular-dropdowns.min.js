/**
 * @license MIT http://jseppi.mit-license.org/license.html
*/
"use strict";var dd=angular.module("ngDropdowns",[]);dd.directive("dropdownSelect",["DropdownService","$window",function(e,o){return{restrict:"A",replace:!0,scope:{dropdownSelect:"=",dropdownModel:"=",dropdownOnchange:"&"},controller:["$scope","$element","$attrs",function(n,d,t){n.labelField=t.dropdownItemLabel||"text",e.register(d),this.select=function(e){e!==n.dropdownModel&&angular.copy(e,n.dropdownModel),n.dropdownOnchange({selected:e})};var r="ontouchstart"in o?"touchend":"click";d.bind(r,function(o){o.stopPropagation(),e.toggleActive(d)}),n.$on("$destroy",function(){e.unregister(d)})}],template:"<div class='wrap-dd-select'>    <span class='selected'>{{dropdownModel[labelField]}}</span>    <ul class='dropdown'>        <li ng-repeat='item in dropdownSelect'            class='dropdown-item'            dropdown-select-item='item'            dropdown-item-label='labelField'>        </li>    </ul></div>"}}]),dd.directive("dropdownSelectItem",[function(){return{require:"^dropdownSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownSelectItem:"="},link:function(e,o,n,d){e.selectItem=function(){e.dropdownSelectItem.href||d.select(e.dropdownSelectItem)}},template:"<li ng-class='{divider: dropdownSelectItem.divider}'>    <a href='' class='dropdown-item'        ng-if='!dropdownSelectItem.divider'        ng-href='{{dropdownSelectItem.href}}'        ng-click='selectItem()'>        {{dropdownSelectItem[dropdownItemLabel]}}    </a></li>"}}]),dd.directive("dropdownMenu",["$parse","$compile","DropdownService","$window",function(e,o,n,d){var t="<ul class='dropdown'>    <li ng-repeat='item in dropdownMenu'        class='dropdown-item'        dropdown-item-label='labelField'        dropdown-menu-item='item'>    </li></ul>";return{restrict:"A",replace:!1,scope:{dropdownMenu:"=",dropdownModel:"=",dropdownOnchange:"&"},controller:["$scope","$element","$attrs",function(e,r,l){e.labelField=l.dropdownItemLabel||"text";var i="ontouchstart"in d?"touchend":"click",c=angular.element(t);c.data("$dropdownMenuController",this);var p=o(c)(e),a=angular.element("<div class='wrap-dd-menu'></div>");r.replaceWith(a),a.append(r),a.append(p),n.register(p),this.select=function(o){o!==e.dropdownModel&&angular.copy(o,e.dropdownModel),e.dropdownOnchange({selected:o})},r.bind(i,function(e){e.stopPropagation(),n.toggleActive(p)}),e.$on("$destroy",function(){n.unregister(p)})}]}}]),dd.directive("dropdownMenuItem",[function(){return{require:"^dropdownMenu",replace:!0,scope:{dropdownMenuItem:"=",dropdownItemLabel:"="},link:function(e,o,n,d){e.selectItem=function(){e.dropdownMenuItem.href||d.select(e.dropdownMenuItem)}},template:"<li ng-class='{divider: dropdownMenuItem.divider}'>    <a href='' class='dropdown-item'        ng-if='!dropdownMenuItem.divider'        ng-href='{{dropdownMenuItem.href}}'        ng-click='selectItem()'>        {{dropdownMenuItem[dropdownItemLabel]}}    </a></li>"}}]),dd.factory("DropdownService",["$document",function(e){var o=e.find("body"),n={},d=[];return o.bind("click",function(){return angular.forEach(d,function(e){e.removeClass("active")})}),n.register=function(e){d.push(e)},n.unregister=function(e){var o;o=d.indexOf(e),o>-1&&d.splice(o,1)},n.toggleActive=function(e){angular.forEach(d,function(o){o!==e&&o.removeClass("active")}),e.toggleClass("active")},n}]);